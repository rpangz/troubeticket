{"remainingRequest":"D:\\aplikasi\\vue\\troubeticket\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aplikasi\\vue\\troubeticket\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aplikasi\\vue\\troubeticket\\src\\views\\Home.vue","mtime":1606704398947},{"path":"D:\\aplikasi\\vue\\troubeticket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606653957433},{"path":"D:\\aplikasi\\vue\\troubeticket\\node_modules\\babel-loader\\lib\\index.js","mtime":1606653952254},{"path":"D:\\aplikasi\\vue\\troubeticket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1606653957433},{"path":"D:\\aplikasi\\vue\\troubeticket\\node_modules\\vue-loader\\lib\\index.js","mtime":1606654029943}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBAIGlzIGFuIGFsaWFzIHRvIC9zcmMNCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJIb21lIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgdGlja2V0cGVuZGluZzogW10sDQogICAgICB0aWNrZXRoYXJpaW5pOiBbXSwNCiAgICAgIHRvdGFsVGlja2V0UGVuZGluZzogMCwNCiAgICAgIHRvdGFsVGlja2V0SGFyaUluaTogMCwNCiAgICAgIHNwZWtEYXRhOiB7fSwNCiAgICAgIG5ld1RpY2tldDoge30sDQogICAgICBlbmRwb2ludDogImh0dHA6Ly9lY2EudW5pYXMuY29tL3Jlc3RzZXJ2ZXIvYXBpX2Vtc2EvIiwNCiAgICAgIHRva2VuOiAiMTIzNDU2IiwNCiAgICB9Ow0KICB9LA0KICBtZXRob2RzOiB7DQogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiAoKSB7DQogICAgICB0aGlzLm5ld1RpY2tldCA9IHsNCiAgICAgICAgcHJvc2VzU3RhdHVzOiAib2siLA0KICAgICAgICBwcm9zZXNMYWJlbDogIlNhdmUiLA0KICAgICAgICBpbnB1dFN0YXR1czogIk5ldyBEYXRhIiwNCiAgICAgICAgdGlja2V0X2lkOiAiIiwNCiAgICAgICAgdXNlcjogIjAiLA0KICAgICAgICB0b3BpazogIjAiLA0KICAgICAgICBsb2thc2k6ICIwIiwNCiAgICAgICAgaXNzdWU6ICIiLA0KICAgICAgICBzb2x1dGlvbjogIiIsDQogICAgICAgIGZpbmlzaDogIiIsDQogICAgICAgIGFnZW50OiAiMCIsDQogICAgICAgIHN0YXR1czogIjAiLA0KICAgICAgfTsNCiAgICB9LA0KICAgIGVkaXREYXRhOiBmdW5jdGlvbiAoZGF0YV9pZCkgew0KICAgICAgY29uc3QgbmV3QXJyYXkgPSB0aGlzLnRpY2tldHBlbmRpbmcuZmlsdGVyKCh4KSA9PiB7DQogICAgICAgIHJldHVybiB4LnRpY2tldF9pZCA9PSBkYXRhX2lkOw0KICAgICAgfSk7DQogICAgICBjb25zdCBkYXRhT2JqID0gbmV3QXJyYXlbMF07DQogICAgICB0aGlzLm5ld1RpY2tldC5pbnB1dFN0YXR1cyA9ICJFZGl0IERhdGEiOw0KICAgICAgdGhpcy5uZXdUaWNrZXQudXNlciA9IGRhdGFPYmoudGlja2V0X3VzZXI7DQogICAgICB0aGlzLm5ld1RpY2tldC50b3BpayA9IGRhdGFPYmoudGlja2V0X2l0ZW07DQogICAgICB0aGlzLm5ld1RpY2tldC5sb2thc2kgPSBkYXRhT2JqLnRpY2tldF9sb2NhdGlvbjsNCiAgICAgIHRoaXMubmV3VGlja2V0Lmlzc3VlID0gZGF0YU9iai50aWNrZXRfZGVzY3JpcHRpb247DQogICAgICB0aGlzLm5ld1RpY2tldC5zb2x1dGlvbiA9IGRhdGFPYmoudGlja2V0X3JlbWFya3M7DQogICAgICB0aGlzLm5ld1RpY2tldC5maW5pc2ggPSBkYXRhT2JqLnRpY2tldF9maW5pc2g7DQogICAgICB0aGlzLm5ld1RpY2tldC5hZ2VudCA9IGRhdGFPYmoudGlja2V0X2FnZW50Ow0KICAgICAgdGhpcy5uZXdUaWNrZXQuc3RhdHVzID0gZGF0YU9iai50aWNrZXRfc3RhdHVzOw0KICAgICAgdGhpcy5uZXdUaWNrZXQudGlja2V0X2lkID0gZGF0YU9iai50aWNrZXRfaWQ7DQogICAgICB0aGlzLiRyZWZzWyJpbnB1dE1vZGFsIl0uc2hvdygpOw0KICAgIH0sDQogICAgbmV3RGF0YTogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5yZXNldEZvcm0oKTsNCiAgICAgIHRoaXMuJHJlZnNbImlucHV0TW9kYWwiXS5zaG93KCk7DQogICAgfSwNCiAgICBzZXREYXRhOiBmdW5jdGlvbiAoZGF0YSkgew0KICAgICAgdGhpcy50aWNrZXRwZW5kaW5nID0gZGF0YS5kYXRhcGVuZGluZzsNCiAgICAgIHRoaXMudGlja2V0aGFyaWluaSA9IGRhdGEuZGF0YWhhcmlpbmk7DQogICAgICB0aGlzLnRvdGFsVGlja2V0UGVuZGluZyA9IGRhdGEudG90YWxwZW5kaW5nOw0KICAgICAgdGhpcy50b3RhbFRpY2tldEhhcmlJbmkgPSBkYXRhLnRvdGFsaGFyaWluaTsNCiAgICB9LA0KICAgIGxvYWRUaWNrZXQ6IGZ1bmN0aW9uICgpIHsNCiAgICAgIGNvbnN0IGNvbmZpZyA9IHsNCiAgICAgICAgaGVhZGVyczogeyAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwNCiAgICAgIH07DQoNCiAgICAgIHRyeSB7DQogICAgICAgIGF4aW9zDQogICAgICAgICAgLmdldCh0aGlzLmVuZHBvaW50ICsgInRpY2tldD90b2tlbj0iICsgdGhpcy50b2tlbiwgY29uZmlnKQ0KICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gew0KICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RGF0YShyZXNwb25zZS5kYXRhKTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsNCiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgICB9KTsNCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgIH0NCg0KICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3Blc2FuYW4tc3Vrc2VzIiB9KTsNCiAgICB9LA0KICAgIGxvYWRTcGVrRGF0YTogYXN5bmMgZnVuY3Rpb24gKCkgew0KICAgICAgY29uc3QgY29uZmlnID0gew0KICAgICAgICBoZWFkZXJzOiB7ICJjb250ZW50LXR5cGUiOiAiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkIiB9LA0KICAgICAgfTsNCiAgICAgIGF3YWl0IGF4aW9zDQogICAgICAgIC5nZXQodGhpcy5lbmRwb2ludCArICJzcGVrZGF0YT90b2tlbj0iICsgdGhpcy50b2tlbiwgY29uZmlnKQ0KICAgICAgICAudGhlbigocmVzcG9uc2UpID0+IHsNCiAgICAgICAgICByZXR1cm4gKHRoaXMuc3Bla0RhdGEgPSByZXNwb25zZS5kYXRhKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBzdGFydFVwOiBhc3luYyBmdW5jdGlvbiAoKSB7DQogICAgICBhd2FpdCB0aGlzLmxvYWRTcGVrRGF0YSgpOw0KICAgICAgYXdhaXQgdGhpcy5yZXNldEZvcm0oKTsNCiAgICAgIGF3YWl0IHRoaXMubG9hZFRpY2tldCgpOw0KICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gew0KICAgICAgICB0aGlzLmxvYWRUaWNrZXQoKTsNCiAgICAgIH0sIDMwMDAwKTsNCiAgICB9LA0KICAgIGdldE5hbWU6IGZ1bmN0aW9uIChuaWspIHsNCiAgICAgIGNvbnN0IG1hc3RlckRhdGEgPSB0aGlzLnNwZWtEYXRhLnVzZXI7DQogICAgICBjb25zdCB2YWx1ZUFyciA9IG1hc3RlckRhdGEuZmlsdGVyKCh4KSA9PiB7DQogICAgICAgIHJldHVybiB4Lm5payA9PSBuaWs7DQogICAgICB9KTsNCiAgICAgIGNvbnN0IHZhbHVlQXJyT2JqID0gdmFsdWVBcnJbMF07DQogICAgICBpZiAodmFsdWVBcnIubGVuZ3RoID4gMCkgew0KICAgICAgICByZXR1cm4gdmFsdWVBcnJPYmoubmFtYTsNCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHJldHVybiAiLSI7DQogICAgICB9DQogICAgfSwNCiAgICBnZXRDb21wYW55OiBmdW5jdGlvbiAoY29tcGFueWlkKSB7DQogICAgICBjb25zdCBtYXN0ZXJEYXRhID0gdGhpcy5zcGVrRGF0YS5jb21wYW55Ow0KICAgICAgY29uc3QgdmFsdWVBcnIgPSBtYXN0ZXJEYXRhLmZpbHRlcigoeCkgPT4gew0KICAgICAgICByZXR1cm4geC5pQ29tcGFueUlkID09IGNvbXBhbnlpZDsNCiAgICAgIH0pOw0KICAgICAgY29uc3QgdmFsdWVBcnJPYmogPSB2YWx1ZUFyclswXTsNCiAgICAgIGlmICh2YWx1ZUFyci5sZW5ndGggPiAwKSB7DQogICAgICAgIHJldHVybiB2YWx1ZUFyck9iai5jQ29tcGFueUNvZGU7DQogICAgICB9IGVsc2Ugew0KICAgICAgICByZXR1cm4gIi0iOw0KICAgICAgfQ0KICAgIH0sDQogICAgc2F2ZURhdGE6IGZ1bmN0aW9uIChidk1vZGFsRXZ0KSB7DQogICAgICB0aGlzLm5ld1RpY2tldC50b2tlbiA9IHRoaXMudG9rZW47DQogICAgICBidk1vZGFsRXZ0LnByZXZlbnREZWZhdWx0KCk7DQogICAgICB0aGlzLmxvY2tNb2RhbCgpOw0KICAgICAgYXhpb3MNCiAgICAgICAgLnBvc3QodGhpcy5lbmRwb2ludCArICJ0aWNrZXQiLCB0aGlzLm5ld1RpY2tldCkNCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7DQogICAgICAgICAgdGhpcy51bmxvY2tNb2RhbCgpOw0KICAgICAgICAgIGNvbnN0IGNoZWNrZXJyb3IgPSByZXNwb25zZS5kYXRhLmVycm9yOw0KICAgICAgICAgIGlmIChjaGVja2Vycm9yKSB7DQogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsNCiAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgdGhpcy5sb2FkVGlja2V0KCk7DQogICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKCJEYXRhIEJlcmhhc2lsIERpIFNpbXBhbiIpOw0KICAgICAgICAgIH0NCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gew0KICAgICAgICAgIHRoaXMuJHRvYXN0LmVycm9yKGVycm9yKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBsb2NrTW9kYWw6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHRoaXMubmV3VGlja2V0LnByb3Nlc0xhYmVsID0gIlByb2Nlc3NpbmcuIC4gLiI7DQogICAgICB0aGlzLm5ld1RpY2tldC5wcm9zZXNTdGF0dXMgPSAicGVuZGluZyI7DQogICAgfSwNCiAgICB1bmxvY2tNb2RhbDogZnVuY3Rpb24gKCkgew0KICAgICAgdGhpcy5uZXdUaWNrZXQucHJvc2VzTGFiZWwgPSAiU2F2ZSI7DQogICAgICB0aGlzLm5ld1RpY2tldC5wcm9zZXNTdGF0dXMgPSAib2siOw0KICAgICAgdGhpcy4kcmVmc1siaW5wdXRNb2RhbCJdLmhpZGUoKTsNCiAgICB9LA0KICB9LA0KICBjb21wb25lbnRzOiB7fSwNCiAgbW91bnRlZCgpIHsNCiAgICB0aGlzLnN0YXJ0VXAoKTsNCiAgfSwNCn07DQo="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div class=\"container-fluid mt-4\">\r\n      <h1>Trouble Ticket</h1>\r\n      <div class=\"row\">\r\n        <div class=\"col text-left\">\r\n          <b-button variant=\"primary\" @click=\"newData()\"\r\n            ><b-icon-plus></b-icon-plus> Add New Ticket</b-button\r\n          >\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <h5>List Ticket Pending</h5>\r\n          <table class=\"table table-hover table-sm\">\r\n            <caption>\r\n              <em\r\n                >* List ticket yang belum di kerjakan (\r\n                {{ totalTicketPending + \" Record\" }} )</em\r\n              >\r\n            </caption>\r\n            <thead>\r\n              <tr class=\"table-danger\">\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Company</th>\r\n                <th scope=\"col\">User</th>\r\n                <th scope=\"col\">Tanggal</th>\r\n                <th scope=\"col\">Topic</th>\r\n                <th scope=\"col\">Issue</th>\r\n                <th scope=\"col\">Handle By</th>\r\n                <th scope=\"col\">Solution</th>\r\n                <th scope=\"col\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in ticketpending\" :key=\"item.id\">\r\n                <th scope=\"row\" width=\"3%\">{{ index + 1 }}</th>\r\n                <td width=\"10%\">{{ getCompany(item.ticket_company) }}</td>\r\n                <td width=\"10%\">{{ getName(item.ticket_user) }}</td>\r\n                <td width=\"7%\">{{ item.tgl }}</td>\r\n                <td width=\"5%\">{{ item.ticket_item_desc }}</td>\r\n                <td width=\"30%\">{{ item.ticket_description }}</td>\r\n                <td width=\"5%\">{{ getName(item.ticket_agent) }}</td>\r\n                <td width=\"20%\">\r\n                  {{ item.ticket_remarks }}\r\n                </td>\r\n                <td width=\"10%\">\r\n                  <div style=\"font-size: 2rem\">\r\n                    <b-icon\r\n                      icon=\"pencil-fill\"\r\n                      class=\"rounded-circle bg-danger p-2\"\r\n                      variant=\"light\"\r\n                      @click=\"editData(item.ticket_id)\"\r\n                    ></b-icon>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n      <hr />\r\n      <div class=\"row\">\r\n        <div class=\"col\">\r\n          <h5>Ticket Hari Ini</h5>\r\n          <table class=\"table table-hover table-sm\">\r\n            <caption>\r\n              <em\r\n                >* List data ticket hari ini (\r\n                {{ totalTicketHariIni + \" Record\" }} )</em\r\n              >\r\n            </caption>\r\n            <thead>\r\n              <tr class=\"table-success\">\r\n                <th scope=\"col\">#</th>\r\n                <th scope=\"col\">Company</th>\r\n                <th scope=\"col\">User</th>\r\n                <th scope=\"col\">Tanggal</th>\r\n                <th scope=\"col\">Topic</th>\r\n                <th scope=\"col\">Issue</th>\r\n                <th scope=\"col\">Handle By</th>\r\n                <th scope=\"col\">Solution</th>\r\n                <th scope=\"col\">Status</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              <tr v-for=\"(item, index) in tickethariini\" :key=\"item.id\">\r\n                <th scope=\"row\" width=\"3%\">{{ index + 1 }}</th>\r\n                <td width=\"10%\">{{ getCompany(item.ticket_company) }}</td>\r\n                <td width=\"10%\">{{ getName(item.ticket_user) }}</td>\r\n                <td width=\"7%\">{{ item.tgl }}</td>\r\n                <td width=\"5%\">{{ item.ticket_item_desc }}</td>\r\n                <td width=\"30%\">{{ item.ticket_description }}</td>\r\n                <td width=\"5%\">{{ getName(item.ticket_agent) }}</td>\r\n                <td width=\"20%\">\r\n                  {{ item.ticket_remarks }}\r\n                </td>\r\n                <td width=\"10%\">{{ item.ticket_status_desc }}</td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- modal -->\r\n    <b-modal\r\n      ref=\"inputModal\"\r\n      id=\"modal-xl\"\r\n      size=\"xl\"\r\n      v-bind:title=\"newTicket.inputStatus\"\r\n      @ok=\"saveData\"\r\n      ok-variant=\"primary\"\r\n      v-bind:ok-title=\"newTicket.prosesLabel\"\r\n    >\r\n      <form>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputUser\" class=\"col-sm-2 col-form-label\">User</label>\r\n          <div class=\"col-auto\">\r\n            <select\r\n              class=\"custom-select\"\r\n              id=\"selectUser\"\r\n              v-model=\"newTicket.user\"\r\n            >\r\n              <option value=\"0\">- Select User -</option>\r\n              <option\r\n                v-for=\"option in spekData.user\"\r\n                :value=\"option.nik\"\r\n                :key=\"option.id\"\r\n              >\r\n                {{ option.nama }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputTopik\" class=\"col-sm-2 col-form-label\">Topik</label>\r\n          <div class=\"col-auto\">\r\n            <select\r\n              class=\"custom-select\"\r\n              id=\"selectTopik\"\r\n              v-model=\"newTicket.topik\"\r\n            >\r\n              <option value=\"0\">- Select Topik -</option>\r\n              <option\r\n                v-for=\"option in spekData.ticketitem\"\r\n                :value=\"option.ItemID\"\r\n                :key=\"option.id\"\r\n              >\r\n                {{ option.Description }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputLokasi\" class=\"col-sm-2 col-form-label\"\r\n            >Lokasi</label\r\n          >\r\n          <div class=\"col-auto\">\r\n            <select\r\n              class=\"custom-select\"\r\n              id=\"selectLokasi\"\r\n              v-model=\"newTicket.lokasi\"\r\n            >\r\n              <option value=\"0\">- Select Lokasi -</option>\r\n              <option\r\n                v-for=\"option in spekData.ticketwarehouse\"\r\n                :value=\"option.iWarehouseId\"\r\n                :key=\"option.id\"\r\n              >\r\n                {{ option.cWarehouseName }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputIssue\" class=\"col-sm-2 col-form-label\"\r\n            >Issue Detail</label\r\n          >\r\n          <div class=\"col-sm-10\">\r\n            <textarea\r\n              class=\"form-control\"\r\n              id=\"selectIssue\"\r\n              rows=\"3\"\r\n              v-model=\"newTicket.issue\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputAgent\" class=\"col-sm-2 col-form-label\"\r\n            >Handle By</label\r\n          >\r\n          <div class=\"col-auto\">\r\n            <select\r\n              class=\"custom-select\"\r\n              id=\"inputAgent\"\r\n              v-model=\"newTicket.agent\"\r\n            >\r\n              <option value=\"0\">- Select Agent -</option>\r\n              <option\r\n                v-for=\"option in spekData.useragent\"\r\n                :value=\"option.nik\"\r\n                :key=\"option.id\"\r\n              >\r\n                {{ option.nama }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputSolution\" class=\"col-sm-2 col-form-label\"\r\n            >Solution</label\r\n          >\r\n          <div class=\"col-sm-10\">\r\n            <textarea\r\n              class=\"form-control\"\r\n              id=\"selectSolution\"\r\n              rows=\"3\"\r\n              v-model=\"newTicket.solution\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputFinish\" class=\"col-sm-2 col-form-label\"\r\n            >Finish Handled</label\r\n          >\r\n          <div class=\"col-auto\">\r\n            <b-form-datepicker\r\n              id=\"inputFinish\"\r\n              v-model=\"newTicket.finish\"\r\n              class=\"mb-2\"\r\n              today-button\r\n            ></b-form-datepicker>\r\n          </div>\r\n        </div>\r\n        <div class=\"form-group row\">\r\n          <label for=\"inputStatus\" class=\"col-sm-2 col-form-label\"\r\n            >Status*</label\r\n          >\r\n          <div class=\"col-auto\">\r\n            <select\r\n              class=\"custom-select\"\r\n              id=\"inputStatus\"\r\n              v-model=\"newTicket.status\"\r\n            >\r\n              <option\r\n                v-for=\"option in spekData.ticketstatus\"\r\n                :value=\"option.StatusID\"\r\n                :key=\"option.id\"\r\n              >\r\n                {{ option.Description }}\r\n              </option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </b-modal>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\n// @ is an alias to /src\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Home\",\r\n  data() {\r\n    return {\r\n      ticketpending: [],\r\n      tickethariini: [],\r\n      totalTicketPending: 0,\r\n      totalTicketHariIni: 0,\r\n      spekData: {},\r\n      newTicket: {},\r\n      endpoint: \"http://eca.unias.com/restserver/api_emsa/\",\r\n      token: \"123456\",\r\n    };\r\n  },\r\n  methods: {\r\n    resetForm: function () {\r\n      this.newTicket = {\r\n        prosesStatus: \"ok\",\r\n        prosesLabel: \"Save\",\r\n        inputStatus: \"New Data\",\r\n        ticket_id: \"\",\r\n        user: \"0\",\r\n        topik: \"0\",\r\n        lokasi: \"0\",\r\n        issue: \"\",\r\n        solution: \"\",\r\n        finish: \"\",\r\n        agent: \"0\",\r\n        status: \"0\",\r\n      };\r\n    },\r\n    editData: function (data_id) {\r\n      const newArray = this.ticketpending.filter((x) => {\r\n        return x.ticket_id == data_id;\r\n      });\r\n      const dataObj = newArray[0];\r\n      this.newTicket.inputStatus = \"Edit Data\";\r\n      this.newTicket.user = dataObj.ticket_user;\r\n      this.newTicket.topik = dataObj.ticket_item;\r\n      this.newTicket.lokasi = dataObj.ticket_location;\r\n      this.newTicket.issue = dataObj.ticket_description;\r\n      this.newTicket.solution = dataObj.ticket_remarks;\r\n      this.newTicket.finish = dataObj.ticket_finish;\r\n      this.newTicket.agent = dataObj.ticket_agent;\r\n      this.newTicket.status = dataObj.ticket_status;\r\n      this.newTicket.ticket_id = dataObj.ticket_id;\r\n      this.$refs[\"inputModal\"].show();\r\n    },\r\n    newData: function () {\r\n      this.resetForm();\r\n      this.$refs[\"inputModal\"].show();\r\n    },\r\n    setData: function (data) {\r\n      this.ticketpending = data.datapending;\r\n      this.tickethariini = data.datahariini;\r\n      this.totalTicketPending = data.totalpending;\r\n      this.totalTicketHariIni = data.totalhariini;\r\n    },\r\n    loadTicket: function () {\r\n      const config = {\r\n        headers: { \"content-type\": \"application/x-www-form-urlencoded\" },\r\n      };\r\n\r\n      try {\r\n        axios\r\n          .get(this.endpoint + \"ticket?token=\" + this.token, config)\r\n          .then((response) => {\r\n            return this.setData(response.data);\r\n          })\r\n          .catch((error) => {\r\n            console.log(error);\r\n          });\r\n      } catch (error) {\r\n        console.log(error);\r\n      }\r\n\r\n      // this.$router.push({ path: \"/pesanan-sukses\" });\r\n    },\r\n    loadSpekData: async function () {\r\n      const config = {\r\n        headers: { \"content-type\": \"application/x-www-form-urlencoded\" },\r\n      };\r\n      await axios\r\n        .get(this.endpoint + \"spekdata?token=\" + this.token, config)\r\n        .then((response) => {\r\n          return (this.spekData = response.data);\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    startUp: async function () {\r\n      await this.loadSpekData();\r\n      await this.resetForm();\r\n      await this.loadTicket();\r\n      setInterval(() => {\r\n        this.loadTicket();\r\n      }, 30000);\r\n    },\r\n    getName: function (nik) {\r\n      const masterData = this.spekData.user;\r\n      const valueArr = masterData.filter((x) => {\r\n        return x.nik == nik;\r\n      });\r\n      const valueArrObj = valueArr[0];\r\n      if (valueArr.length > 0) {\r\n        return valueArrObj.nama;\r\n      } else {\r\n        return \"-\";\r\n      }\r\n    },\r\n    getCompany: function (companyid) {\r\n      const masterData = this.spekData.company;\r\n      const valueArr = masterData.filter((x) => {\r\n        return x.iCompanyId == companyid;\r\n      });\r\n      const valueArrObj = valueArr[0];\r\n      if (valueArr.length > 0) {\r\n        return valueArrObj.cCompanyCode;\r\n      } else {\r\n        return \"-\";\r\n      }\r\n    },\r\n    saveData: function (bvModalEvt) {\r\n      this.newTicket.token = this.token;\r\n      bvModalEvt.preventDefault();\r\n      this.lockModal();\r\n      axios\r\n        .post(this.endpoint + \"ticket\", this.newTicket)\r\n        .then((response) => {\r\n          this.unlockModal();\r\n          const checkerror = response.data.error;\r\n          if (checkerror) {\r\n            throw new Error(response.data.message);\r\n          } else {\r\n            this.loadTicket();\r\n            this.$toast.success(\"Data Berhasil Di Simpan\");\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          this.$toast.error(error);\r\n        });\r\n    },\r\n    lockModal: function () {\r\n      this.newTicket.prosesLabel = \"Processing. . .\";\r\n      this.newTicket.prosesStatus = \"pending\";\r\n    },\r\n    unlockModal: function () {\r\n      this.newTicket.prosesLabel = \"Save\";\r\n      this.newTicket.prosesStatus = \"ok\";\r\n      this.$refs[\"inputModal\"].hide();\r\n    },\r\n  },\r\n  components: {},\r\n  mounted() {\r\n    this.startUp();\r\n  },\r\n};\r\n</script>\r\n"]}]}