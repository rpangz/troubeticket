{"remainingRequest":"D:\\aplikasi\\Vuejs\\TroubeTicket\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\aplikasi\\Vuejs\\TroubeTicket\\src\\views\\Home.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\aplikasi\\Vuejs\\TroubeTicket\\src\\views\\Home.vue","mtime":1606650380659},{"path":"D:\\aplikasi\\Vuejs\\TroubeTicket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aplikasi\\Vuejs\\TroubeTicket\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"D:\\aplikasi\\Vuejs\\TroubeTicket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\aplikasi\\Vuejs\\TroubeTicket\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIEAgaXMgYW4gYWxpYXMgdG8gL3NyYwppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkhvbWUiLAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aWNrZXRwZW5kaW5nOiBbXSwKICAgICAgdGlja2V0aGFyaWluaTogW10sCiAgICAgIHRvdGFsVGlja2V0UGVuZGluZzogMCwKICAgICAgdG90YWxUaWNrZXRIYXJpSW5pOiAwLAogICAgICBzcGVrRGF0YToge30sCiAgICAgIG5ld1RpY2tldDoge30sCiAgICAgIGVuZHBvaW50OiAiaHR0cDovL2VjYS51bmlhcy5jb20vcmVzdHNlcnZlci9hcGlfZW1zYS8iLAogICAgICB0b2tlbjogIjEyMzQ1NiIsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgcmVzZXRGb3JtOiBmdW5jdGlvbiAoKSB7CiAgICAgIHRoaXMubmV3VGlja2V0ID0gewogICAgICAgIHByb3Nlc1N0YXR1czogIm9rIiwKICAgICAgICBwcm9zZXNMYWJlbDogIlNhdmUiLAogICAgICAgIGlucHV0U3RhdHVzOiAiTmV3IERhdGEiLAogICAgICAgIHRpY2tldF9pZDogIiIsCiAgICAgICAgdXNlcjogIjAiLAogICAgICAgIHRvcGlrOiAiMCIsCiAgICAgICAgbG9rYXNpOiAiMCIsCiAgICAgICAgaXNzdWU6ICIiLAogICAgICAgIHNvbHV0aW9uOiAiIiwKICAgICAgICBmaW5pc2g6ICIiLAogICAgICAgIGFnZW50OiAiMCIsCiAgICAgICAgc3RhdHVzOiAiMCIsCiAgICAgIH07CiAgICB9LAogICAgZWRpdERhdGE6IGZ1bmN0aW9uIChkYXRhX2lkKSB7CiAgICAgIGNvbnN0IG5ld0FycmF5ID0gdGhpcy50aWNrZXRwZW5kaW5nLmZpbHRlcigoeCkgPT4gewogICAgICAgIHJldHVybiB4LnRpY2tldF9pZCA9PSBkYXRhX2lkOwogICAgICB9KTsKICAgICAgY29uc3QgZGF0YU9iaiA9IG5ld0FycmF5WzBdOwogICAgICB0aGlzLm5ld1RpY2tldC5pbnB1dFN0YXR1cyA9ICJFZGl0IERhdGEiOwogICAgICB0aGlzLm5ld1RpY2tldC51c2VyID0gZGF0YU9iai50aWNrZXRfdXNlcjsKICAgICAgdGhpcy5uZXdUaWNrZXQudG9waWsgPSBkYXRhT2JqLnRpY2tldF9pdGVtOwogICAgICB0aGlzLm5ld1RpY2tldC5sb2thc2kgPSBkYXRhT2JqLnRpY2tldF9sb2NhdGlvbjsKICAgICAgdGhpcy5uZXdUaWNrZXQuaXNzdWUgPSBkYXRhT2JqLnRpY2tldF9kZXNjcmlwdGlvbjsKICAgICAgdGhpcy5uZXdUaWNrZXQuc29sdXRpb24gPSBkYXRhT2JqLnRpY2tldF9yZW1hcmtzOwogICAgICB0aGlzLm5ld1RpY2tldC5maW5pc2ggPSBkYXRhT2JqLnRpY2tldF9maW5pc2g7CiAgICAgIHRoaXMubmV3VGlja2V0LmFnZW50ID0gZGF0YU9iai50aWNrZXRfYWdlbnQ7CiAgICAgIHRoaXMubmV3VGlja2V0LnN0YXR1cyA9IGRhdGFPYmoudGlja2V0X3N0YXR1czsKICAgICAgdGhpcy5uZXdUaWNrZXQudGlja2V0X2lkID0gZGF0YU9iai50aWNrZXRfaWQ7CiAgICAgIHRoaXMuJHJlZnNbImlucHV0TW9kYWwiXS5zaG93KCk7CiAgICB9LAogICAgbmV3RGF0YTogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgpOwogICAgICB0aGlzLiRyZWZzWyJpbnB1dE1vZGFsIl0uc2hvdygpOwogICAgfSwKICAgIHNldERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgIHRoaXMudGlja2V0cGVuZGluZyA9IGRhdGEuZGF0YXBlbmRpbmc7CiAgICAgIHRoaXMudGlja2V0aGFyaWluaSA9IGRhdGEuZGF0YWhhcmlpbmk7CiAgICAgIHRoaXMudG90YWxUaWNrZXRQZW5kaW5nID0gZGF0YS50b3RhbHBlbmRpbmc7CiAgICAgIHRoaXMudG90YWxUaWNrZXRIYXJpSW5pID0gZGF0YS50b3RhbGhhcmlpbmk7CiAgICB9LAogICAgbG9hZFRpY2tldDogZnVuY3Rpb24gKCkgewogICAgICBjb25zdCBjb25maWcgPSB7CiAgICAgICAgaGVhZGVyczogeyAiY29udGVudC10eXBlIjogImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCIgfSwKICAgICAgfTsKCiAgICAgIGF4aW9zCiAgICAgICAgLmdldCh0aGlzLmVuZHBvaW50ICsgInRpY2tldD90b2tlbj0iICsgdGhpcy50b2tlbiwgY29uZmlnKQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgcmV0dXJuIHRoaXMuc2V0RGF0YShyZXNwb25zZS5kYXRhKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgICAgLy8gdGhpcy4kcm91dGVyLnB1c2goeyBwYXRoOiAiL3Blc2FuYW4tc3Vrc2VzIiB9KTsKICAgIH0sCiAgICBsb2FkU3Bla0RhdGE6IGFzeW5jIGZ1bmN0aW9uICgpIHsKICAgICAgY29uc3QgY29uZmlnID0gewogICAgICAgIGhlYWRlcnM6IHsgImNvbnRlbnQtdHlwZSI6ICJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQiIH0sCiAgICAgIH07CiAgICAgIGF3YWl0IGF4aW9zCiAgICAgICAgLmdldCh0aGlzLmVuZHBvaW50ICsgInNwZWtkYXRhP3Rva2VuPSIgKyB0aGlzLnRva2VuLCBjb25maWcpCiAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICByZXR1cm4gKHRoaXMuc3Bla0RhdGEgPSByZXNwb25zZS5kYXRhKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsKICAgIH0sCiAgICBzdGFydFVwOiBhc3luYyBmdW5jdGlvbiAoKSB7CiAgICAgIGF3YWl0IHRoaXMubG9hZFNwZWtEYXRhKCk7CiAgICAgIHRoaXMucmVzZXRGb3JtKCk7CiAgICAgIHRoaXMubG9hZFRpY2tldCgpOwogICAgICBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdGhpcy5sb2FkVGlja2V0KCk7CiAgICAgIH0sIDMwMDAwKTsKICAgIH0sCiAgICBnZXROYW1lOiBmdW5jdGlvbiAobmlrKSB7CiAgICAgIGNvbnN0IG1hc3RlckRhdGEgPSB0aGlzLnNwZWtEYXRhLnVzZXI7CiAgICAgIGNvbnN0IHZhbHVlQXJyID0gbWFzdGVyRGF0YS5maWx0ZXIoKHgpID0+IHsKICAgICAgICByZXR1cm4geC5uaWsgPT0gbmlrOwogICAgICB9KTsKICAgICAgY29uc3QgdmFsdWVBcnJPYmogPSB2YWx1ZUFyclswXTsKICAgICAgaWYgKHZhbHVlQXJyLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdmFsdWVBcnJPYmoubmFtYTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gIi0iOwogICAgICB9CiAgICB9LAogICAgZ2V0Q29tcGFueTogZnVuY3Rpb24gKGNvbXBhbnlpZCkgewogICAgICBjb25zdCBtYXN0ZXJEYXRhID0gdGhpcy5zcGVrRGF0YS5jb21wYW55OwogICAgICBjb25zdCB2YWx1ZUFyciA9IG1hc3RlckRhdGEuZmlsdGVyKCh4KSA9PiB7CiAgICAgICAgcmV0dXJuIHguaUNvbXBhbnlJZCA9PSBjb21wYW55aWQ7CiAgICAgIH0pOwogICAgICBjb25zdCB2YWx1ZUFyck9iaiA9IHZhbHVlQXJyWzBdOwogICAgICBpZiAodmFsdWVBcnIubGVuZ3RoID4gMCkgewogICAgICAgIHJldHVybiB2YWx1ZUFyck9iai5jQ29tcGFueUNvZGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuICItIjsKICAgICAgfQogICAgfSwKICAgIHNhdmVEYXRhOiBmdW5jdGlvbiAoYnZNb2RhbEV2dCkgewogICAgICB0aGlzLm5ld1RpY2tldC50b2tlbiA9IHRoaXMudG9rZW47CiAgICAgIGJ2TW9kYWxFdnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdGhpcy5sb2NrTW9kYWwoKTsKICAgICAgYXhpb3MKICAgICAgICAucG9zdCh0aGlzLmVuZHBvaW50ICsgInRpY2tldCIsIHRoaXMubmV3VGlja2V0KQogICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgICAgdGhpcy51bmxvY2tNb2RhbCgpOwogICAgICAgICAgY29uc3QgY2hlY2tlcnJvciA9IHJlc3BvbnNlLmRhdGEuZXJyb3I7CiAgICAgICAgICBpZiAoY2hlY2tlcnJvcikgewogICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2UuZGF0YS5tZXNzYWdlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubG9hZFRpY2tldCgpOwogICAgICAgICAgICB0aGlzLiR0b2FzdC5zdWNjZXNzKCJEYXRhIEJlcmhhc2lsIERpIFNpbXBhbiIpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKChlcnJvcikgPT4gewogICAgICAgICAgdGhpcy4kdG9hc3QuZXJyb3IoZXJyb3IpOwogICAgICAgIH0pOwogICAgfSwKICAgIGxvY2tNb2RhbDogZnVuY3Rpb24gKCkgewogICAgICB0aGlzLm5ld1RpY2tldC5wcm9zZXNMYWJlbCA9ICJQcm9jZXNzaW5nLiAuIC4iOwogICAgICB0aGlzLm5ld1RpY2tldC5wcm9zZXNTdGF0dXMgPSAicGVuZGluZyI7CiAgICB9LAogICAgdW5sb2NrTW9kYWw6IGZ1bmN0aW9uICgpIHsKICAgICAgdGhpcy5uZXdUaWNrZXQucHJvc2VzTGFiZWwgPSAiU2F2ZSI7CiAgICAgIHRoaXMubmV3VGlja2V0LnByb3Nlc1N0YXR1cyA9ICJvayI7CiAgICAgIHRoaXMuJHJlZnNbImlucHV0TW9kYWwiXS5oaWRlKCk7CiAgICB9LAogIH0sCiAgY29tcG9uZW50czoge30sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuc3RhcnRVcCgpOwogIH0sCn07Cg=="},{"version":3,"sources":["Home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Home.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"home\">\n    <div class=\"container-fluid mt-4\">\n      <h1>Trouble Ticket</h1>\n      <div class=\"row\">\n        <div class=\"col text-left\">\n          <b-button variant=\"primary\" @click=\"newData()\"\n            ><b-icon-plus></b-icon-plus> Add New Ticket</b-button\n          >\n        </div>\n      </div>\n      <hr />\n      <div class=\"row\">\n        <div class=\"col\">\n          <h5>List Ticket Pending</h5>\n          <table class=\"table table-hover table-sm\">\n            <caption>\n              <em\n                >* List ticket yang belum di kerjakan (\n                {{ totalTicketPending + \" Record\" }} )</em\n              >\n            </caption>\n            <thead>\n              <tr class=\"table-danger\">\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Company</th>\n                <th scope=\"col\">User</th>\n                <th scope=\"col\">Tanggal</th>\n                <th scope=\"col\">Topic</th>\n                <th scope=\"col\">Issue</th>\n                <th scope=\"col\">Handle By</th>\n                <th scope=\"col\">Solution</th>\n                <th scope=\"col\">Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(item, index) in ticketpending\" :key=\"item.id\">\n                <th scope=\"row\" width=\"3%\">{{ index + 1 }}</th>\n                <td width=\"10%\">{{ getCompany(item.ticket_company) }}</td>\n                <td width=\"10%\">{{ getName(item.ticket_user) }}</td>\n                <td width=\"7%\">{{ item.tgl }}</td>\n                <td width=\"5%\">{{ item.ticket_item_desc }}</td>\n                <td width=\"30%\">{{ item.ticket_description }}</td>\n                <td width=\"5%\">{{ getName(item.ticket_agent) }}</td>\n                <td width=\"20%\">\n                  {{ item.ticket_remarks }}\n                </td>\n                <td width=\"10%\">\n                  <div style=\"font-size: 2rem\">\n                    <b-icon\n                      icon=\"pencil-fill\"\n                      class=\"rounded-circle bg-danger p-2\"\n                      variant=\"light\"\n                      @click=\"editData(item.ticket_id)\"\n                    ></b-icon>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n      <hr />\n      <div class=\"row\">\n        <div class=\"col\">\n          <h5>Ticket Hari Ini</h5>\n          <table class=\"table table-hover table-sm\">\n            <caption>\n              <em\n                >* List data ticket hari ini (\n                {{ totalTicketHariIni + \" Record\" }} )</em\n              >\n            </caption>\n            <thead>\n              <tr class=\"table-success\">\n                <th scope=\"col\">#</th>\n                <th scope=\"col\">Company</th>\n                <th scope=\"col\">User</th>\n                <th scope=\"col\">Tanggal</th>\n                <th scope=\"col\">Topic</th>\n                <th scope=\"col\">Issue</th>\n                <th scope=\"col\">Handle By</th>\n                <th scope=\"col\">Solution</th>\n                <th scope=\"col\">Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr v-for=\"(item, index) in tickethariini\" :key=\"item.id\">\n                <th scope=\"row\" width=\"3%\">{{ index + 1 }}</th>\n                <td width=\"10%\">{{ getCompany(item.ticket_company) }}</td>\n                <td width=\"10%\">{{ getName(item.ticket_user) }}</td>\n                <td width=\"7%\">{{ item.tgl }}</td>\n                <td width=\"5%\">{{ item.ticket_item_desc }}</td>\n                <td width=\"30%\">{{ item.ticket_description }}</td>\n                <td width=\"5%\">{{ getName(item.ticket_agent) }}</td>\n                <td width=\"20%\">\n                  {{ item.ticket_remarks }}\n                </td>\n                <td width=\"10%\">{{ item.ticket_status_desc }}</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n\n    <!-- modal -->\n    <b-modal\n      ref=\"inputModal\"\n      id=\"modal-xl\"\n      size=\"xl\"\n      v-bind:title=\"newTicket.inputStatus\"\n      @ok=\"saveData\"\n      ok-variant=\"primary\"\n      v-bind:ok-title=\"newTicket.prosesLabel\"\n    >\n      <form>\n        <div class=\"form-group row\">\n          <label for=\"inputUser\" class=\"col-sm-2 col-form-label\">User</label>\n          <div class=\"col-auto\">\n            <select\n              class=\"custom-select\"\n              id=\"selectUser\"\n              v-model=\"newTicket.user\"\n            >\n              <option value=\"0\">- Select User -</option>\n              <option\n                v-for=\"option in spekData.user\"\n                :value=\"option.nik\"\n                :key=\"option.id\"\n              >\n                {{ option.nama }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputTopik\" class=\"col-sm-2 col-form-label\">Topik</label>\n          <div class=\"col-auto\">\n            <select\n              class=\"custom-select\"\n              id=\"selectTopik\"\n              v-model=\"newTicket.topik\"\n            >\n              <option value=\"0\">- Select Topik -</option>\n              <option\n                v-for=\"option in spekData.ticketitem\"\n                :value=\"option.ItemID\"\n                :key=\"option.id\"\n              >\n                {{ option.Description }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputLokasi\" class=\"col-sm-2 col-form-label\"\n            >Lokasi</label\n          >\n          <div class=\"col-auto\">\n            <select\n              class=\"custom-select\"\n              id=\"selectLokasi\"\n              v-model=\"newTicket.lokasi\"\n            >\n              <option value=\"0\">- Select Lokasi -</option>\n              <option\n                v-for=\"option in spekData.ticketwarehouse\"\n                :value=\"option.iWarehouseId\"\n                :key=\"option.id\"\n              >\n                {{ option.cWarehouseName }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputIssue\" class=\"col-sm-2 col-form-label\"\n            >Issue Detail</label\n          >\n          <div class=\"col-sm-10\">\n            <textarea\n              class=\"form-control\"\n              id=\"selectIssue\"\n              rows=\"3\"\n              v-model=\"newTicket.issue\"\n            ></textarea>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputAgent\" class=\"col-sm-2 col-form-label\"\n            >Handle By</label\n          >\n          <div class=\"col-auto\">\n            <select\n              class=\"custom-select\"\n              id=\"inputAgent\"\n              v-model=\"newTicket.agent\"\n            >\n              <option value=\"0\">- Select Agent -</option>\n              <option\n                v-for=\"option in spekData.useragent\"\n                :value=\"option.nik\"\n                :key=\"option.id\"\n              >\n                {{ option.nama }}\n              </option>\n            </select>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputSolution\" class=\"col-sm-2 col-form-label\"\n            >Solution</label\n          >\n          <div class=\"col-sm-10\">\n            <textarea\n              class=\"form-control\"\n              id=\"selectSolution\"\n              rows=\"3\"\n              v-model=\"newTicket.solution\"\n            ></textarea>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputFinish\" class=\"col-sm-2 col-form-label\"\n            >Finish Handled</label\n          >\n          <div class=\"col-auto\">\n            <b-form-datepicker\n              id=\"inputFinish\"\n              v-model=\"newTicket.finish\"\n              class=\"mb-2\"\n              today-button\n            ></b-form-datepicker>\n          </div>\n        </div>\n        <div class=\"form-group row\">\n          <label for=\"inputStatus\" class=\"col-sm-2 col-form-label\"\n            >Status*</label\n          >\n          <div class=\"col-auto\">\n            <select\n              class=\"custom-select\"\n              id=\"inputStatus\"\n              v-model=\"newTicket.status\"\n            >\n              <option\n                v-for=\"option in spekData.ticketstatus\"\n                :value=\"option.StatusID\"\n                :key=\"option.id\"\n              >\n                {{ option.Description }}\n              </option>\n            </select>\n          </div>\n        </div>\n      </form>\n    </b-modal>\n  </div>\n</template>\n\n\n\n\n<script>\n// @ is an alias to /src\nimport axios from \"axios\";\nexport default {\n  name: \"Home\",\n  data() {\n    return {\n      ticketpending: [],\n      tickethariini: [],\n      totalTicketPending: 0,\n      totalTicketHariIni: 0,\n      spekData: {},\n      newTicket: {},\n      endpoint: \"http://eca.unias.com/restserver/api_emsa/\",\n      token: \"123456\",\n    };\n  },\n  methods: {\n    resetForm: function () {\n      this.newTicket = {\n        prosesStatus: \"ok\",\n        prosesLabel: \"Save\",\n        inputStatus: \"New Data\",\n        ticket_id: \"\",\n        user: \"0\",\n        topik: \"0\",\n        lokasi: \"0\",\n        issue: \"\",\n        solution: \"\",\n        finish: \"\",\n        agent: \"0\",\n        status: \"0\",\n      };\n    },\n    editData: function (data_id) {\n      const newArray = this.ticketpending.filter((x) => {\n        return x.ticket_id == data_id;\n      });\n      const dataObj = newArray[0];\n      this.newTicket.inputStatus = \"Edit Data\";\n      this.newTicket.user = dataObj.ticket_user;\n      this.newTicket.topik = dataObj.ticket_item;\n      this.newTicket.lokasi = dataObj.ticket_location;\n      this.newTicket.issue = dataObj.ticket_description;\n      this.newTicket.solution = dataObj.ticket_remarks;\n      this.newTicket.finish = dataObj.ticket_finish;\n      this.newTicket.agent = dataObj.ticket_agent;\n      this.newTicket.status = dataObj.ticket_status;\n      this.newTicket.ticket_id = dataObj.ticket_id;\n      this.$refs[\"inputModal\"].show();\n    },\n    newData: function () {\n      this.resetForm();\n      this.$refs[\"inputModal\"].show();\n    },\n    setData: function (data) {\n      this.ticketpending = data.datapending;\n      this.tickethariini = data.datahariini;\n      this.totalTicketPending = data.totalpending;\n      this.totalTicketHariIni = data.totalhariini;\n    },\n    loadTicket: function () {\n      const config = {\n        headers: { \"content-type\": \"application/x-www-form-urlencoded\" },\n      };\n\n      axios\n        .get(this.endpoint + \"ticket?token=\" + this.token, config)\n        .then((response) => {\n          return this.setData(response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      // this.$router.push({ path: \"/pesanan-sukses\" });\n    },\n    loadSpekData: async function () {\n      const config = {\n        headers: { \"content-type\": \"application/x-www-form-urlencoded\" },\n      };\n      await axios\n        .get(this.endpoint + \"spekdata?token=\" + this.token, config)\n        .then((response) => {\n          return (this.spekData = response.data);\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n    },\n    startUp: async function () {\n      await this.loadSpekData();\n      this.resetForm();\n      this.loadTicket();\n      setInterval(() => {\n        this.loadTicket();\n      }, 30000);\n    },\n    getName: function (nik) {\n      const masterData = this.spekData.user;\n      const valueArr = masterData.filter((x) => {\n        return x.nik == nik;\n      });\n      const valueArrObj = valueArr[0];\n      if (valueArr.length > 0) {\n        return valueArrObj.nama;\n      } else {\n        return \"-\";\n      }\n    },\n    getCompany: function (companyid) {\n      const masterData = this.spekData.company;\n      const valueArr = masterData.filter((x) => {\n        return x.iCompanyId == companyid;\n      });\n      const valueArrObj = valueArr[0];\n      if (valueArr.length > 0) {\n        return valueArrObj.cCompanyCode;\n      } else {\n        return \"-\";\n      }\n    },\n    saveData: function (bvModalEvt) {\n      this.newTicket.token = this.token;\n      bvModalEvt.preventDefault();\n      this.lockModal();\n      axios\n        .post(this.endpoint + \"ticket\", this.newTicket)\n        .then((response) => {\n          this.unlockModal();\n          const checkerror = response.data.error;\n          if (checkerror) {\n            throw new Error(response.data.message);\n          } else {\n            this.loadTicket();\n            this.$toast.success(\"Data Berhasil Di Simpan\");\n          }\n        })\n        .catch((error) => {\n          this.$toast.error(error);\n        });\n    },\n    lockModal: function () {\n      this.newTicket.prosesLabel = \"Processing. . .\";\n      this.newTicket.prosesStatus = \"pending\";\n    },\n    unlockModal: function () {\n      this.newTicket.prosesLabel = \"Save\";\n      this.newTicket.prosesStatus = \"ok\";\n      this.$refs[\"inputModal\"].hide();\n    },\n  },\n  components: {},\n  mounted() {\n    this.startUp();\n  },\n};\n</script>\n"]}]}